
<!DOCTYPE html>

<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <title>2-给树节点添加自定义属性</title>
    <link href="../../resources/css/ext-all-neptune.css" rel="stylesheet" />
    <script src="../../Scripts/jquery-1.10.2.min.js"></script>
    <script src="../../resources/bootstrap.js"></script>
    <script src="../../locale/ext-lang-zh_CN.js"></script>
</head>
<body>
    <div id="container"></div>
    <script>
        ///<reference path="D:\我的文档\Visual Studio 2015\Projects\Extjs\Extjs4_0\resources\ext-all-dev.js" />
        Ext.onReady(function () {
            //方法一
            var root = {
                text: '书籍',
                children: [
                {
                    text: '哲学', leaf: false, expanded: true,
                    children: [
                      { text: '马克思价值观', leaf: true, url: 'http://www.qeefee.com/zt-extjs' },
                      { text: '毛泽东思想', leaf: true, url: 'https://www.baidu.com/' },
                      { text: '人文价值观', leaf: true, url: 'http://extjs.org.cn/' }
                    ]
                },
                {
                    text: '历史', leaf: false,
                    children: [
                      { text: '唐朝任务', leaf: true },
                      { text: '岳飞传', leaf: true },
                      { text: '清朝的衰败', leaf: true }
                    ]
                },
                 {
                     text: '名著', leaf: false,
                     children: [
                       { text: '三国演义', leaf: true },
                       { text: '西游记', leaf: true },
                       { text: '红楼梦', leaf: true }
                     ]
                 },
                ]
            };
            Ext.create('Ext.tree.TreePanel', {
                fields: ['text', 'url'],//方法一加fields
                root: root,
                title: 'This is a Tree One',
                rootVisible: false,
                autoScroll: true,
                listeners: {
                    itemclick: function (view, rec) {
                        console.log(rec.data.url);

                    }
                },
                renderTo: Ext.getBody()
            });
            //方法二
            var data = {
                text: '书籍',
                children: [
                {
                    text: '哲学', leaf: false, expanded: true,
                    children: [
                      { text: '马克思价值观', leaf: true, url: 'http://www.qeefee.com/zt-extjs' },
                      { text: '毛泽东思想', leaf: true, url: 'https://www.baidu.com/' },
                      { text: '人文价值观', leaf: true, url: 'http://extjs.org.cn/' }
                    ]
                },
                {
                    text: '历史', leaf: false,
                    children: [
                      { text: '唐朝任务', leaf: true },
                      { text: '岳飞传', leaf: true },
                      { text: '清朝的衰败', leaf: true }
                    ]
                },
                 {
                     text: '名著', leaf: false,
                     children: [
                       { text: '三国演义', leaf: true },
                       { text: '西游记', leaf: true },
                       { text: '红楼梦', leaf: true }
                     ]
                 },
                ]
            };

            Ext.define('treeData', {
                extend: 'Ext.data.Model',
                fields: ['text', 'url'],
                proxy: {
                    type: 'memory',
                    reader: {
                        type: 'json',
                    }
                }
            });
            Ext.create('Ext.tree.TreePanel', {
                model: 'treeData',//方法一加model
                root: data,
                title: 'This is a Tree Tow',
                rootVisible: false,
                autoScroll: true,
                listeners: {
                    itemclick: function (view, rec) {
                        console.log(rec.data.url);

                    }
                },
                renderTo: Ext.getBody()

            });

        });
        //listeners center  fields


    </script>

</body>
</html>
